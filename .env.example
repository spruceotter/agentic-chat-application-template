# =============================================================================
# Application Configuration
# =============================================================================
NODE_ENV=development
LOG_LEVEL=debug
APP_NAME=ai-opti-nextjs-starter

# =============================================================================
# LLM Configuration
# =============================================================================
OPENROUTER_API_KEY=your-openrouter-api-key
OPENROUTER_MODEL=anthropic/claude-haiku-4.5

# =============================================================================
# Supabase Configuration
# =============================================================================
# Get these from your Supabase project settings > API

NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# New projects use PUBLISHABLE_KEY (sb_publishable_xxx format)
# Legacy projects use ANON_KEY (JWT format starting with eyJ...)
# Both are supported - use whichever your project provides
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
# NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=sb_publishable_xxx

# =============================================================================
# Database Configuration (Drizzle)
# =============================================================================
# Use the connection pooling URL (port 6543) for serverless

# Supabase Cloud (Transaction pooler - recommended for serverless)
DATABASE_URL=postgresql://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres

# Supabase Local (supabase start)
# DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# Direct connection (for migrations only)
# DATABASE_URL_DIRECT=postgresql://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres

# =============================================================================
# Chargebee Configuration (Billing & Token Purchases)
# =============================================================================
# 1. Sign up for a Chargebee account at https://www.chargebee.com/
#    - A test/sandbox site is created automatically on signup
#
# 2. Find your SITE NAME:
#    - It's the subdomain of your Chargebee dashboard URL
#    - Example: if your dashboard is https://myapp-test.chargebee.com, your site is "myapp-test"
#    - Test sites end in "-test" (e.g., "myapp-test"), live sites don't (e.g., "myapp")
#
# 3. Create an API KEY:
#    - Go to: Settings > Configure Chargebee > API Keys and Webhooks > API Keys tab
#    - Click "Add an API Key"
#    - Select "Full-Access Key" (needed for checkout + customer creation)
#    - Name it (e.g., "app-server-key") and click "Create Key"
#    - Copy the key — it won't be shown again
#    - IMPORTANT: Test and Live sites have separate API keys
#
# 4. Set up WEBHOOK credentials:
#    - Go to: Settings > Configure Chargebee > API Keys and Webhooks > Webhooks tab
#    - Click "Add Webhook"
#    - Webhook URL: https://your-domain.com/api/webhooks/chargebee
#      (For local dev, use a tunnel like ngrok: https://xxxx.ngrok.io/api/webhooks/chargebee)
#    - Toggle "Protect webhook URL with basic authentication"
#    - Set a username and password — use those values below
#    - Click "Test Webhook" to verify connectivity

CHARGEBEE_SITE=your-site-name-test
CHARGEBEE_API_KEY=test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CHARGEBEE_WEBHOOK_USERNAME=your-webhook-username
CHARGEBEE_WEBHOOK_PASSWORD=your-webhook-password
